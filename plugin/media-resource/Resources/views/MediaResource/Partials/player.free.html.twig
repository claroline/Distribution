<!-- region text transcription row -->
{% if _resource.options.getShowTextTranscription %}
    <div class="row">
        <div class="col-md-12">
            <div class="my-flex-row">
                <div class="text-center player-col" id="btn-toggle-transcription" style="width:10%;">
                    <i style="cursor:pointer;" class="fa fa-font big bordered-top bordered-left bordered-right" title="Transcription textuelle"></i>
                </div>
                <div class="player-col" style="width:90%;">
                    <div class="help-text"></div>
                </div>
            </div>
        </div>
    </div>
{% endif %}
<!-- play buttons and waveform row -->
<div class="row">
    <div class="col-md-12">
        <div class="my-flex-row">
            <div class="text-center player-col" style="width:10%;">
                <!-- Play / Pause -->
                <i style="height:100%;cursor:pointer;" id="btn-play" title="{{'play_pause' | trans({}, 'media_resource')}}" class="fa fa-play big bordered-top bordered-left bordered-right bordered-bottom"></i>
            </div>
            <div class="player-col" style="width:90%;">
                <div id="wave-timeline"></div>
                <div id="waveform">
                    <div class="progress progress-striped active" id="progress-bar">
                        <div class="progress-bar progress-bar-info"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Help row -->
<div class="row">
    <div class="col-md-12">
        <div class="help-container" style="display:none;">
          <button class="btn btn-default fa fa-retweet help-item" id="btn-loop" title="{{'region_help_segment_playback_loop' | trans({}, 'media_resource')}}"></button>
          <button class="btn btn-default fa fa-exchange help-item" id="btn-backward" title="{{'region_help_segment_playback_backward' | trans({}, 'media_resource')}}"></button>
          <button class="btn btn-default help-item" id="btn-slow" title="{{'region_help_segment_playback_rate' | trans({}, 'media_resource')}}">x0.8</button>
          <button class="btn btn-default fa fa-file-text-o help-item" id="btn-text" title="{{'region_help_help_text_label' | trans({}, 'media_resource')}}">
            <span class="label label-info my-label">1</span>
          </button>
        </div>
    </div>
</div>
<!-- Help text row -->
<div class="row">
    <div class="col-md-12">
        <div class="help-text-container" style="display:none;">
          <span class="help-text-item"></span>
        </div>
    </div>
</div>

<!-- hidden fields -->
<audio id="html-audio" controls src="" style="display:none;"/>

<!-- hidden fields -->

<!-- regions hidden -->
<div style="display:none;">
    {% if regions | length > 0 %}
        {% for region in regions %}
            {% include "InnovaMediaResourceBundle:MediaResource/Partials:region.html.twig" with {'region': region, 'hidden': true, 'config':true, 'admin': false} %}
        {% endfor %}
    {% endif %}
</div>

<!-- regions hidden -->
<input type="hidden" name="type" value="audio"/>
<input type="hidden" name="textTranscription" value="{{_resource.options.getShowTextTranscription}}"/>

{% block javascripts %}
  <script src="{{ hotAsset('dist/commons.js') }}"></script>
  <script src="{{ hotAsset('dist/claroline-distribution-plugin-media-resource-free.js') }}"></script>
{% endblock %}
