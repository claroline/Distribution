<li class="summary-link"
    data-ng-class="{
        active: summaryItemShowCtrl.current.stepId == summaryItemShowCtrl.step.id || (!summaryItemShowCtrl.current.stepId && 0 == summaryItemShowCtrl.step.lvl)
    }"
>
    <div class="tree-item"
         data-nodrag=""
    >
        <div class="step" data-ng-click="summaryItemShowCtrl.goTo(step)">
            <span class="step-progression {{ summaryItemShowCtrl.userProgression.status || 'unseen' }} fa fa-circle"
                  data-toggle="tooltip"
                  data-placement="right"
                  data-container="body"
                  data-title="{{ summaryItemShowCtrl.step.name }}"
            ></span>

            <span class="step-name">{{ summaryItemShowCtrl.step.name }}</span>
        </div>

        <div class="step-actions">
            <button type="button" class="btn btn-link"
               data-ng-click="summaryItemShowCtrl.collapsed = !summaryItemShowCtrl.collapsed"
               data-ng-if="0 !== summaryItemShowCtrl.step.children.length"
            >
                <span class="fa fa-fw" data-ng-class="{ 'fa-caret-right': summaryItemShowCtrl.collapsed, 'fa-caret-down': !summaryItemShowCtrl.collapsed }"></span>
            </button>
        </div>
    </div>

    <ul class="step-children" data-ui-tree-nodes="" data-ng-model="summaryItemShowCtrl.step.children" data-ng-hide="summaryItemShowCtrl.collapsed">
        <summary-item-show data-ui-tree-node="" data-ng-repeat="step in summaryItemShowCtrl.step.children" data-step="step"></summary-item-show>
    </ul>
</li>
