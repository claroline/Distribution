services:
    _defaults:
        autoconfigure: false
        public: true #because lazy
        autowire: false

    _instanceof:
        Claroline\AppBundle\API\Finder\AbstractFinder:
            autowire: false
            tags: [claroline.finder]
            calls:
                - method: setObjectManager
                  arguments:
                     - '@claroline.persistence.object_manager'
                - method: setEntityManager
                  arguments:
                     - '@doctrine.orm.entity_manager'
                - method: setEventDispatcher
                  arguments:
                     - '@claroline.event.event_dispatcher'

    Claroline\AgendaBundle\Finder\EventFinder: ~
