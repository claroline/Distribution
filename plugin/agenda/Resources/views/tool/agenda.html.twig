{% if workspace is defined %}
    {% set calendarExtends = 'ClarolineCoreBundle:workspace:layout.html.twig' %}
{% else %}
    {% set calendarExtends = 'ClarolineCoreBundle:desktop:layout.html.twig' %}
{% endif %}

{% extends calendarExtends %}

{% set calendarPath = 'packages/fullcalendar/dist/' %}


{% block title %}
    {% if workspace is defined %}
        {{ parent() ~ ' - ' ~ "agenda" | trans({}, "tools") | striptags | raw }}
    {% else %}
        {{ parent() ~ ' - ' ~ "agenda" | trans({}, "tools") | striptags | raw }}
    {% endif %}
{% endblock %}

{% block section_content %}
  <div
    class="agenda-container page-container"
    {% if workspace is defined %}
      data-workspace="{{ workspace | api_serialize | json_encode | raw | escape }}"
    {% else %}
      data-workspace="{}"
    {% endif %}>
  </div>
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel='stylesheet' type='text/css' href='{{ asset(calendarPath ~ 'fullcalendar.min.css') }}'/>
    <link rel='stylesheet' type='text/css' href='{{ asset(calendarPath ~ 'fullcalendar.print.css') }}' media='print' />
    <link rel='stylesheet' type='text/css' href='{{ asset('packages/eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css') }}'>
    <style>
        .fc-day-grid-event > .fc-content {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 100%;
        }
        .fc-day-grid-event:focus {
            color: white;
            text-decoration: none;
        }
        .popover button.close {
            font-size: 13px;
        }
        .is-task {
            padding-right: 3px;
        }
    </style>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ hotAsset('dist/claroline-distribution-plugin-agenda-agenda.js') }}"></script>
{% endblock javascripts %}
