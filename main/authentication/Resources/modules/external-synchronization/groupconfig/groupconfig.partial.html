<div uib-alert class="alert col-md-12" data-ng-repeat="alert in vm.alerts" data-dismiss-on-timeout="3000" data-type="{{alert.type}}" data-close="vm.closeAlert($index)">{{alert.msg | trans:{}:'platform'}}</div>

<form class="form-horizontal" autocomplete="false" id="form_group_config" name="group_config" novalidate>
    <div id="claroline_external_synchronization_source_form">
        <div class="form-group row">
            <label class="control-label col-md-3 required"
                   for="claroline_external_synchronization_source_table_name">
                {{ 'group_table_name' | trans:{}:'claro_external_user_group' }}
            </label>
            <div class="col-md-9">
                <select data-ng-disabled="vm.is_request_pending"
                        name="claroline_external_synchronization_source_table_name"
                        id="claroline_external_synchronization_source_table_name"
                        class="form-control"
                        data-ng-model="vm.sourceConfig.group_config.table"
                        data-ng-change="vm.groupTableChange()"
                        data-ng-options="option for option in vm.tableNames"
                        required="required">
                    <option value="">-- {{ 'choose_table' | trans:{}:'claro_external_user_group' }} --</option>
                </select>
            </div>
        </div>

        <div class="form-group row">
            <label class="control-label col-md-3 required"
                   for="claroline_external_synchronization_source_field_id">
                {{ 'id_field_name' | trans:{}:'claro_external_user_group' }}
            </label>
            <div class="col-md-9">
                <select data-ng-disabled="!vm.sourceConfig.group_config.table || vm.is_request_pending"
                        name="claroline_external_synchronization_source_field_id"
                        id="claroline_external_synchronization_source_field_id"
                        class="form-control"
                        data-ng-model="vm.sourceConfig.group_config.fields.id"
                        data-ng-options="option for option in vm.groupFieldNames"
                        required="required">
                    <option value="">-- {{ 'choose_field' | trans:{}:'claro_external_user_group' }} --</option>
                </select>
            </div>
        </div>

        <div class="form-group row">
            <label class="control-label col-md-3 required"
                   for="claroline_external_synchronization_source_field_group_name">
                {{ 'group_name_field_name' | trans:{}:'claro_external_user_group' }}
            </label>
            <div class="col-md-9">
                <select data-ng-disabled="!vm.sourceConfig.group_config.table || vm.is_request_pending"
                        name="claroline_external_synchronization_source_field_group_name"
                        id="claroline_external_synchronization_source_field_group_name"
                        class="form-control"
                        data-ng-model="vm.sourceConfig.group_config.fields.group_name"
                        data-ng-options="option for option in vm.groupFieldNames"
                        required="required">
                    <option value="">-- {{ 'choose_field' | trans:{}:'claro_external_user_group' }} --</option>
                </select>
            </div>
        </div>

        <div class="form-group row">
            <label class="control-label col-md-3 required"
                   for="claroline_external_synchronization_source_field_count">
                {{ 'count_field_name' | trans:{}:'claro_external_user_group' }}
            </label>
            <div class="col-md-9">
                <select data-ng-disabled="!vm.sourceConfig.group_config.table || vm.is_request_pending"
                        name="claroline_external_synchronization_source_field_count"
                        id="claroline_external_synchronization_source_field_count"
                        class="form-control"
                        data-ng-model="vm.sourceConfig.group_config.fields.count"
                        data-ng-options="option for option in vm.groupFieldNames"
                        required="required">
                    <option value="">-- {{ 'choose_field' | trans:{}:'claro_external_user_group' }} --</option>
                </select>
            </div>
        </div>

        <div class="form-group row">
            <label class="control-label col-md-3 required"
                   for="claroline_external_synchronization_source_field_type">
                {{ 'type_field_name' | trans:{}:'claro_external_user_group' }}
            </label>
            <div class="col-md-9">
                <select data-ng-disabled="!vm.sourceConfig.group_config.table || vm.is_request_pending"
                        name="claroline_external_synchronization_source_field_type"
                        id="claroline_external_synchronization_source_field_type"
                        class="form-control"
                        data-ng-model="vm.sourceConfig.group_config.fields.type"
                        data-ng-options="option for option in vm.groupFieldNames"
                        required="required">
                    <option value="">-- {{ 'choose_field' | trans:{}:'claro_external_user_group' }} --</option>
                </select>
            </div>
        </div>

        <div class="form-group row">
            <label class="control-label col-md-3 required"
                   for="claroline_external_synchronization_source_field_code">
                {{ 'code_field_name' | trans:{}:'claro_external_user_group' }}
            </label>
            <div class="col-md-9">
                <select data-ng-disabled="!vm.sourceConfig.group_config.table || vm.is_request_pending"
                        name="claroline_external_synchronization_source_field_code"
                        id="claroline_external_synchronization_source_field_code"
                        class="form-control"
                        data-ng-model="vm.sourceConfig.group_config.fields.code"
                        data-ng-options="option for option in vm.groupFieldNames"
                        required="required">
                    <option value="">-- {{ 'choose_field' | trans:{}:'claro_external_user_group' }} --</option>
                </select>
            </div>
        </div>

        <div class="form-group row">
            <br />
        </div>

        <div class="form-group row">
            <label class="control-label col-md-3 required"
                   for="claroline_external_synchronization_source_field_connection_table_name">
                {{ 'connection_table_name' | trans:{}:'claro_external_user_group' }}
            </label>
            <div class="col-md-9">
                <select data-ng-disabled="vm.is_request_pending"
                        name="claroline_external_synchronization_source_field_connection_table_name"
                        id="claroline_external_synchronization_source_field_connection_table_name"
                        class="form-control"
                        data-ng-model="vm.sourceConfig.group_config.user_group_config.table"
                        data-ng-change="vm.userGroupTableChange()"
                        data-ng-options="option for option in vm.tableNames"
                        required="required">
                    <option value="">-- {{ 'choose_table' | trans:{}:'claro_external_user_group' }} --</option>
                </select>
            </div>
        </div>

        <div class="form-group row">
            <label class="control-label col-md-3 required"
                   for="claroline_external_synchronization_source_field_foreign_user_id">
                {{ 'foreign_user_id_field_name' | trans:{}:'claro_external_user_group' }}
            </label>
            <div class="col-md-9">
                <select data-ng-disabled="!vm.sourceConfig.group_config.user_group_config.table || vm.is_request_pending"
                        name="claroline_external_synchronization_source_field_foreign_user_id"
                        id="claroline_external_synchronization_source_field_foreign_user_id"
                        class="form-control"
                        data-ng-model="vm.sourceConfig.group_config.user_group_config.fields.id_user"
                        data-ng-options="option for option in vm.userGroupFieldNames"
                        required="required">
                    <option value="">-- {{ 'choose_field' | trans:{}:'claro_external_user_group' }} --</option>
                </select>
            </div>
        </div>

        <div class="form-group row">
            <label class="control-label col-md-3 required"
                   for="claroline_external_synchronization_source_field_foreign_group_id">
                {{ 'foreign_group_id_field_name' | trans:{}:'claro_external_user_group' }}
            </label>
            <div class="col-md-9">
                <select data-ng-disabled="!vm.sourceConfig.group_config.user_group_config.table || vm.is_request_pending"
                        name="claroline_external_synchronization_source_field_foreign_group_id"
                        id="claroline_external_synchronization_source_field_foreign_group_id"
                        class="form-control"
                        data-ng-model="vm.sourceConfig.group_config.user_group_config.fields.id_group"
                        data-ng-options="option for option in vm.userGroupFieldNames"
                        required="required">
                    <option value="">-- {{ 'choose_field' | trans:{}:'claro_external_user_group' }} --</option>
                </select>
            </div>
        </div>

        <div class="form-group row">
            <div class="col-md-offset-3 col-md-9">
                <button class="btn btn-primary"
                        data-ng-click="vm.save()"
                        data-ng-disabled="group_config.$invalid">
                    {{ 'save' | trans:{}:'platform' }}
                </button>
                <button class="btn btn-default"
                        data-ng-click="vm.cancel()">
                    {{ 'cancel' | trans:{}:'platform' }}
                </button>
            </div>
        </div>

    </div>
</form>