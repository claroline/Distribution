/*
 * Data grid.
 */

.data-grid {
    margin-bottom: @component-margin-bottom;
}


// -
// Header
// ---

.data-grid-header {
    border: 1px solid transparent;
    padding: @data-grid-gutter 0 @data-grid-gutter @data-grid-gutter;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;

    > .checkbox {
        margin: 0;
    }
}

.data-grid-sort {
    display: flex; // correct vertical align
    flex-direction: row;
    margin-left: auto;

    .btn-link {
        padding: 0 @data-grid-gutter;
        border: none;
        font-weight: bold;
    }

    > .btn-link { // really ugly
        border-left: 1px solid #ccc;
    }
}

// customizes bulk actions
.data-grid .list-selected {
    border: 1px solid transparent;
    margin-bottom: @data-grid-gutter;

    // mimic checkboxes for proper alignment with "select all" checkbox
    .list-selected-label {
        position: relative;
        padding: @data-grid-gutter @data-grid-gutter @data-grid-gutter @data-grid-gutter + 20px;

        .fa {
            position: absolute;
            margin-left: -20px;
            margin-top: 3px; // arbitrary
            width: 16px;
        }
    }

    .btn {
        padding: @data-grid-gutter;
    }
}


// -
// Content & Items
// ---

.data-grid-content {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    margin: -@data-grid-gutter; // absorb items margin

    // remove <ul> styles
    list-style-type: none;
    padding: 0;
}

.data-grid-item-container {
    position: relative; // constrain selection checkbox
    padding: @data-grid-gutter;

    .data-card {
        width: 100%; // fill container
        height: 100%; // fill container

        // todo : make it on every card with mixins
        &:hover {
            z-index: 2;
            color: @data-card-active-color;
            background-color: @data-card-active-bg;
            .box-shadow(@data-card-active-box-shadow);

            .data-card-header {
                background: @data-card-active-header-bg;
            }

            .data-card-content {
                color: @data-card-active-color;
            }
        }

        &.selected {
            background-color: @state-info-bg;
            border-color: #abcfe0; // todo : use a var same as .table

            .box-shadow(0 0 2px fadeOut(@brand-info, 65%));

            .data-card-header {
                background: #bfe3f4;
                border-color: #abcfe0 !important;
            }

            &:hover {
                background-color: #bfe3f4;

                .data-card-header {
                    background: #b5d9ea;
                }
            }
        }
    }

    .item-select {
        z-index: 3;
        position: absolute;
        margin: 0;
        top: @data-grid-gutter * 2;
        left: @data-grid-gutter * 2;
    }
}


// -
// Sizing
// ---

.data-grid-col {
    &.data-grid-sm .data-grid-item-container {
        flex: 0 0 (100% / @data-grid-cols-sm);
        max-width: 100% / @data-grid-cols-sm;
    }

    &.data-grid-lg .data-grid-item-container {
        flex: 0 0 (100% / @data-grid-cols-lg);
        max-width: 100% / @data-grid-cols-lg;
    }
}

.data-grid-row {
    .data-grid-item-container {
        flex: 0 0 100%;
        max-width: 100%;
    }
}
