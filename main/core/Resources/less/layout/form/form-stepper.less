/**
 * Multi steps Forms styles.
 */

@form-stepper-nav-color:         @text-color;
@form-stepper-nav-bg:            #EBEBEB; // same grey than data-lists
@form-stepper-nav-active-color:  white;
@form-stepper-nav-active-bg:     @brand-primary;
@form-stepper-nav-border-radius: 100%;
@form-stepper-nav-size:          @font-size-large*3; // should be >= @form-stepper-endpoint-size (otherwise calculation is not correct)
@form-stepper-nav-font-size:     @font-size-large;
@form-stepper-endpoint-size:     @font-size-large*2;
@form-stepper-connector-size:    6px;
@form-stepper-margin-bottom:     @component-margin-bottom;

.form-stepper {

}

.form-stepper-footer {
    text-align: right;

    .btn-next,
    .btn-submit {
        padding: @padding-large-vertical @padding-large-horizontal;
    }

    .btn-next {
        .fa {
            margin-left: @icon-text-spacer;
        }
    }

    .btn-submit {
        .fa {
            margin-right: @icon-text-spacer;
        }
    }
}

.form-stepper-nav {
    position: relative;
    display: flex;
    padding: 0 @form-stepper-endpoint-size;
    margin-bottom: @form-stepper-margin-bottom;

    &:before,
    &:after {
        position: absolute;
        z-index: 2;
        display: block;
        content: " ";
        width: @form-stepper-endpoint-size;
        height: @form-stepper-endpoint-size;
        background: @form-stepper-nav-bg;
        top: @form-stepper-nav-size/2 - (@form-stepper-endpoint-size/2);
        border-radius: @form-stepper-nav-border-radius;
    }

    &:before {
        left: 0;
        background: @brand-primary;
    }

    &:after {
        right: 0;
    }
}

.form-stepper-link {
    position: relative;
    flex: 1;
    color: @text-muted;
    font-size: @font-size-small;
    text-align: center;

    &:before,
    &:after {
        position: absolute;
        z-index: 1;
        display: block;
        content: " ";
        border-bottom: @form-stepper-connector-size solid @form-stepper-nav-bg;
        width: 50%;
        top: @form-stepper-nav-size/2 - (@form-stepper-connector-size / 2);
    }

    // connect link with previous one
    &:before {
        left: 0;
    }

    // connect link with next one
    &:after {
        right: 0;
    }

    .form-step-badge {
        position: relative;
        z-index: 2;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: @form-stepper-nav-font-size;
        height: @form-stepper-nav-size;
        width: @form-stepper-nav-size;
        margin-left: auto;
        margin-right: auto;
        margin-bottom: @form-stepper-margin-bottom/2;
        border-radius: @form-stepper-nav-border-radius;
        background: @form-stepper-nav-bg;
        color: @form-stepper-nav-color;
    }

    &.done {
        &:after,
        &:before {
            border-color: @form-stepper-nav-active-bg;
        }

        .form-step-badge {
            color: @form-stepper-nav-active-color;
            background: @form-stepper-nav-active-bg;
        }
    }

    &.active {
        color: @text-color;
        font-weight: bold;

        &:before {
            border-bottom: @form-stepper-connector-size dashed @form-stepper-nav-active-bg;
        }

        .form-step-badge {
            color: @form-stepper-nav-active-bg;
            background: @body-bg;
            border: @form-stepper-connector-size solid @form-stepper-nav-active-bg;
        }
    }
}
