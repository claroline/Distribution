<style type="text/css">
    .pie-chart{
        {% if chartHeight is not defined or chartHeight is empty %}
        height:600px;
        {% else %}
        height: {{ chartHeight }}px;
        {% endif %}
    }
</style>

{% if filesImported is not defined or filesImported is empty %}
    <script> load({{ chunks('claroline-distribution-main-core-jqplot')|raw }}) </script>
{% endif %}

<div id="analytics-resources-piechart" class="panel panel-default">
    <div class="panel-heading">
        <i class="fa fa-pie-chart"></i>
        {{'resources_usage_ratio'|trans({}, 'platform')}}
    </div>
    <div id="collapse-piechart" class="panel-body">
        <div id="container-piechart">
            <div id="resources-pie-chart" class="pie-chart"></div>
        </div>
    </div>
</div>
<script type="text/javascript">
    var pieChartData = [];

    {% for resource in resourceCount %}
        pieChartData.push(["{{resource.name|trans({}, 'resource')}}",{{resource.total}}]);
    {% endfor %}

    window.pieChartData = pieChartData
    var numberRows = 7;

    {% if numberRows is defined and numberRows is not empty %}
        numberRows = {{ numberRows }};
    {% endif %}

    window.numberRows = numberRows
</script>

    <script> load({{ chunks('claroline-distribution-main-core-resource-by-type-chart')|raw }}) </script>
