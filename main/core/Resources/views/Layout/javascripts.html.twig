{% import 'ClarolineCoreBundle:Layout:javascripts.macros.html.twig' as jsmacros %}

{# the loading order is important so be careful if you change it #}

{# Loads translator js files #}
{{ jsmacros.getTranslatorJs() }}

<script> load({{ chunks('core-js/shim')|raw }}) </script> {# to remove ? #}

{# Loads all necessary Bootstrap js files (minified) #}
{{ jsmacros.getBootstrapJs() }}

<script> load({{ chunks('claroline-distribution-main-core-tinymce-main')|raw }}) </script>
{# SVG external reference polyfill for IE<13 #}
{% javascripts debug=false filter='jsmin' output='vendor/svg4everybody/svg4everybody.js'
    '../node_modules/svg4everybody/dist/svg4everybody.js'
%}
    <script src="{{ asset_url }}"></script>
    <script>
        svg4everybody();
    </script>
{% endjavascripts %}

<script>
    if (window.sessionStorage.getItem('hide_brower_warning')) {
        $('.outdated-browser-warning').hide();
    }
</script>

<script> load({{ chunks('claroline-distribution-main-core-iframe')|raw }}) </script>
<script> load({{ chunks('claroline-distribution-main-core-checkbox-dropdown')|raw }}) </script>
<script> load({{ chunks('claroline-distribution-main-core-topbar')|raw }}) </script>
<script> load({{ chunks('claroline-distribution-main-core-core-js')|raw }}) </script>
<script> load({{ chunks('claroline-distribution-main-core-sidebar')|raw }}) </script>
<script> load({{ chunks('claroline-distribution-main-core-locale')|raw }}) </script>
<script> load({{ chunks('claroline-distribution-main-core-startup')|raw }}) </script>
<script> load({{ chunks('claroline-distribution-main-core-modernizr')|raw }}) </script>
<script> load({{ chunks('claroline-distribution-main-core-layout-javascript')|raw }}) </script>

{{ render(controller('ClarolineCoreBundle:Layout:injectJavascript', {})) }}
